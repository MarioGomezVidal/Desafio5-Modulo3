<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <title>Metodos - JavaScript</title>
    <link rel="stylesheet" href="./assets/css/global.css">
  </head>
  <body>
    <h1>Métodos de Array's - JavaScript</h1>

    <h2>Lista de invitados:</h2>
    <div>

        <input id="inputInvitado" type="text"> <button id="btnInvitado">Añadir</button>
    </div>
    <br>
    <ul id="lista">

    </ul>

    <script>

let ul = document.querySelector("#lista");
let input = document.querySelector("#inputInvitado");
let boton = document.querySelector("#btnInvitado");

let invitados = [
  { id: 1, nombre: "Quentin Tarantino", vip: true },
  { id: 2, nombre: "Lionel Messi", vip: false },
];

function renderizarInvitados() {
  let template = "";
  for (invitado of invitados) {
    template += `<li>${invitado.nombre} <span
    style="color: ${invitado.vip  == true ? "lightgreen" : "red"}"
    >${
      invitado.vip == true ? "VIP" : "NO VIP"
    }</span> <button onclick="borrarInvitado(${
      invitado.id
    })">Borrar</button></div>
    <button onclick="modificarVip(${invitado.id})">
    Modificar</button>
    </li>`;
  }
  ul.innerHTML = template;
}

renderizarInvitados();

boton.addEventListener("click", () => {
  let nuevoInvitado = { id: Date.now(), nombre: input.value, vip: false };
  invitados.unshift(nuevoInvitado);
  renderizarInvitados();
  input.value = "";
});

function borrarInvitado(idAEliminar) {
  let indiceInvitado = invitados.findIndex((invitado) => {
    return invitado.id == idAEliminar;
  });
  invitados.splice(indiceInvitado, 1);
  console.log(invitados);
  renderizarInvitados();
}

function modificarVip(idAModificar) {
  let indiceInvitado = invitados.findIndex((invitado) => {
    return invitado.id == idAModificar;
  });


  if(invitados[indiceInvitado].vip == true){
    invitados[indiceInvitado].vip = false
  }else{
    invitados[indiceInvitado].vip = true
  }

  console.log(indiceInvitado);
  renderizarInvitados();
}

    </script>
  </body>
</html>